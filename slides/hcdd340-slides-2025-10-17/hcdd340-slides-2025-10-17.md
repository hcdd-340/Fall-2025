---
pagetitle: HCDD 340 — 2025-10-17
date-meta: 2025-10-17
author-meta: Saeed Abdullah (saeed@psu.edu)
revealjs-url: ../reveal.js
theme: hcdd340-dark
slideNumber: true
hash: true
hashOneBasedIndex: true
highlightjs: true
highlightjs-theme: dracula
---

## JS VII

---

## Today

* Data storage
* JS Modules
* Final Project

---

## Recap from last class

* Data storage

---

### Data storage
#### Client side storage

* JS enables data storage in users' machines 
    - browser, app

* Cookies
    - Simple data
* Web Storage
    - Simple data
* IndexedDB
    - Complex data

---

### Client side storage
#### We will focus on Web Storage in this class

* ~~Cookies~~
* Web Storage
* ~~IndexedDB~~
    - Complex data


---

### Web Storage

* Storing data for different origins (e.g., hostname)
* You can't access data for other origins
    - Security

* There is a limit
    - Around 5 MiB of local storage _per origin_

:::{.t-ref}
[Source](https://developer.mozilla.org/en-US/docs/Web/API/Storage_API/Storage_quotas_and_eviction_criteria#web_storage)
::::

---

### Web Storage
#### Use cases

* Saving preferences (e.g., color scheme, font size)
* Previous site activity (e.g., shopping cart, login info)
* Saving documents for offline use

---


### Web Storage
* [`sessionStorage`]{.t-salmon}
    + Persists data for as long as the browser is open
    + Data is lost when browser is closed
* [`localStorage`]{.t-salmon}
    + Persists data [**even after**]{.t-clover} the browser is closed

:::{.t-ref}
[Source](https://developer.mozilla.org/en-US/docs/Learn_web_development/Extensions/Client-side_APIs/Client-side_storage#storing_simple_data_%E2%80%94_web_storage)
:::

---

### Saving data in `localStorage`
* `setItem(key, value)`
    + Save a data item
    + Both `key` and `value` must be strings

```js
localStorage.setItem("bgcolor", "red");
localStorage.setItem("font", "Helvetica");
localStorage.setItem("image", "myCat.png");
```

:::{.t-ref}
[Source](https://developer.mozilla.org/en-US/docs/Web/API/Storage/setItem)
:::

---

### Getting data from `localStorage`
* `getItem(key)`
    + Return the string data for a given key
    + `null`, if the key doesn't exist

```js
const currentColor = localStorage.getItem("bgcolor");
const currentFont = localStorage.getItem("font");
const currentImage = localStorage.getItem("image");
```

:::{.t-ref}
[Source](https://developer.mozilla.org/en-US/docs/Web/API/Storage/getItem)
:::

---

#### Removing data from `localStorage`
* `removeItem(key)`
    + Deletes the data item for a given key

```js
localStorage.removeItem("image");
```

:::{.t-ref}
[Source](https://developer.mozilla.org/en-US/docs/Web/API/Storage/removeItem)
:::


---

### Web Storage

* Storing data for different origins (e.g., hostname)
* You can't access data for other origins
    - Security

---

#### How can we store non-string data in `localStorage`?

We will use `JSON`


---

## JSON
### Structured data as a string

* Standard text-based format (string)
* Follows JavaScript object syntax

---

## JSON

```json
{
  "orderId": "12345",
  "customer": {
    "firstName": "Jane",
    "lastName": "Doe",
    "address": "123 Main St"
  },
  "items": [
    {
      "product": "Laptop",
      "quantity": 1,
      "price": 1200.50
    }
  ]
}
```

---

### Converting between objects and text
* `JSON.parse`
    + String --> JS Object (or value)

* `JSON.stringify`
    + JS Object (or value) --> String

---

### `JSON.parse`
#### String --> JS Object (or value)

```js
const json = '{"result":true, "count":42}';
const obj = JSON.parse(json);

console.log(obj.count);
// Expected output: 42

console.log(obj.result);
// Expected output: true
```

:::{.t-ref}
[Source](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse)
:::

---

### `JSON.parse`
#### String --> JS Object (or value)

```js
JSON.parse('[1, 5, "false"]');
```

What's the outcome?

:::{.t-ref}
[Source](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse)
:::


---

### `JSON.stringify`
#### JS Object (or value) --> String

```js
console.log(JSON.stringify({ x: 5, y: 6 }));
// Expected output: '{"x":5,"y":6}'

const a = ["foo", "bar"];
JSON.stringify(a);
// '["foo","bar"]'
```

:::{.t-ref}
[Source](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify)
:::

---

#### How can we store non-string data in `localStorage`?

We will use `JSON`

---

### Saving `session` 

```js
const session = {
  screens: [],
  state: true,
};
session.screens.push({ name: "screenA", width: 450, height: 250 });

// Converting the JSON string with JSON.stringify()
// then saving with localStorage in the name of session

localStorage.setItem("session", JSON.stringify(session));
```

---


#### Restoring saved `session` from `localStorage`

```js
const restoredSession = JSON.parse(
    localStorage.getItem("session"));
```

---

## Today

* [**Data storage**]{.t-salmon}
* JS Modules
* Final Project

---


### Todo
* Open [Activity 20](https://github.com/hcdd-340/Activity-Fall-2025/releases/tag/activity-20.0)
* Save modules

---

### Hints
* One option is to add all module names to an array and then save it as an `json` object
* You can use [`.children`](https://developer.mozilla.org/en-US/docs/Web/API/Element/children) for a given parent node
* You can see saved values (also edit them)
    + Firefox: Dev Tools --> Storage
    + Chrome: Dev Tools --> Application --> Storage

---

### Todo
* Open [Activity 20](https://github.com/hcdd-340/Activity-Fall-2025/releases/tag/activity-20.0)
* [**Retrieve previously saved modules**]{.t-salmon}

---

### Hints
* You can use `getItem` and then `JSON.parse` to extract the array
* Take a look at the `addAListItem` function in `main.js`

---

### Todo
* What will happen if no values were saved and user click on `Load`?
* Delete saved modules
    + Firefox: Dev Tools --> Storage
    + Chrome: Dev Tools --> Application --> Storage

* Click on `Load modules`

---

## Today

* Data storage
* [**JS Modules**]{.t-salmon}
* Final Project

---

### JS Modules

* We can split JS functionalities across modules
* You can then `import` modules as necessary
* Allows better code management

---

### A module is a separate JS file

* Other modules then can use features from a given module
    - Variables, functions, ...

---

### JS Modules

* Open [Activity 21](https://github.com/hcdd-340/Activity-Fall-2025/releases/tag/activity-21.0) in VS Code
* Two modules
    - `main.js`
    - `dayname.js`

---

#### Making features available to other modules
#### in `dayname.js`


```js
const names = ["Sunday", "Monday", "Tuesday"]

export function dayName(number) {
  return names[number];
}
export function dayNumber(name) {
  return names.indexOf(name);
}

```

`export` in front of features will make them available to other modules

:::{.t-ref}
[Source](https://eloquentjavascript.net/10_modules.html)
:::

---

#### You can use a single `export` statement

```js{data-line-numbers="4"}
const draw = () => {};
const reportArea = 16.5;

export { draw, reportArea };

```

a single `export` statement at the end of the module with a comma-separated list of the features 

:::{.t-ref}
[Source](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules)
:::

---

#### Importing features from a module
#### in `main.js`

```js
import {dayName} from "./dayname.js";
```

The dot (`.`) in `"./dayname.js"` indicates current folder

---

#### You can also rename imported features


```js
import { name as squareNameOne } from "shapes";
```

:::{.t-ref}
[Source](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules)
:::


---

#### You can import all features as well

```js
import * as Module from "./modules/module.js";

Module.function1();
Module.function2();
```
:::{.t-ref}
[Source](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules)
:::


---

#### Applying the module to your HTML
#### `index.html`

```html
<script type="module" src="main.js"></script>
```

Must include `type="module"`

:::{.t-ref}
[Source](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules)
:::

---

## Today

* Data storage
* JS Modules
* [**Final Project**]{.t-salmon}

---

#### Have you started thinking about the final project topic?

---

### Final project — 2 presentations & 3 submissions
+ Proposal submission:  5 points
+ Proposal Presentation: 8 points
+ Final presentation: 10 point
+ Code and documentation: 20 point
+ Mandatory group review: 2 points

---

### Final project — 2 presentations & 3 submissions
+ Proposal submission:  5 points
+ Proposal Presentation: 8 points
+ Final presentation: 10 point
+ [**Code and documentation: 20 point**]{.t-salmon}
+ Mandatory group review: 2 points

---


### Grading rubric for final submission (see syllabus)

+ The app must be installable using Chrome — **1.5 points**
+ The app (and the browser version) should work for different devices — **4.5 points**
+ At least 3 non-trivial pages with user interaction support — **3 points**

---

### Grading rubric for final submission (see syllabus) — contd.

+ Stores and retrieves persistent data — **3 points**
+ Includes icon and consistent theme — **3 points**
+ Ensures accessibility — **3 points**
+ Documentation for the code and the system — **2 points**

---

### Bonus Features (maximum 5 points)
- 5 non-trivial pages or more — **1 point**

- Use of camera — **1.5 points**

- Use of microphone — **1.5 points**

- Use of location — **2 points**

- Integrates [user facing generative AI features](https://developer.chrome.com/docs/ai/built-in-apis) — **3 points**

---

## Final Project
* Considerable flexibility in terms of topic
	* develop a chatbot interface?
	* redesign an existing app (e.g., Penn State Go app, Apple Music)?
	
---

### Final project topic
* Focus on your portfolio
	* Showcasing it in your job/internship applications?
* Maybe prototype for broader reach?
	* [Nittany AI Challenge](https://nittanyai.psu.edu/alliance-programs/nittany-ai-challenge/)
	* [IdeaMakers Challenge](https://pennstateideamakers.weebly.com/)

---


### Next todos: Check Canvas
+ [Proposal Submission](https://psu.instructure.com/courses/2416260/assignments/17578979)
+ [Proposal Presentation](https://psu.instructure.com/courses/2416260/assignments/17578978)

What questions do you have?

---

#### We will work on final project during our class from next week
* Thursday (10/23): Selecting topics and sketching UI/user-flow
* Tuesday (10/28): Proposal and presentation

---

### We will take attendance on those days

---

### Mandatory group review
* Due at the end of the class
* Report evaluating performance of each group member (including yourself)
* Will also be used to [**adjust project grades**]{.t-salmon}
* **Be fair, courteous, and respectful** to your group member

---

### Assignment 3
* In the video, the app **theme** is set to Pugh blue
    - Updated [description](https://hcdd-340.github.io/Fall-2025/assignments/assignment-03/hcdd-340-assignment-03-2025-10-03.html#:~:text=The%20app%20background%20theme%20color%20is%20Pugh%20blue)


